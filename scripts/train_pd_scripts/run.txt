#!/bin/bash --login
#$ -cwd


#$ -m e
#$ -M tianyu.ren@manchester.ac.uk
#$ -j y
#$ -o ~/scratch/self-model/inteaction-dynamics-in-social-dilemmas/logs
#$ -e ~/scratch/self-model/inteaction-dynamics-in-social-dilemmas/logs

# Choose ONE of the following depending on your permitted access
# The -l nvidia_v100 (or just v100) or -l nvidia_a100 (or just a100) is mandatory.
# M can be 1 to 4 (depending on user limits). If '=M' is missing
# then 1 will be used.
#$ -l nvidia_v100=1
#$ -pe smp.pe 8


# request CUDA software environment
module load libs/cuda

# load Anaconda Python
module load apps/binapps/anaconda3/2022.10

# Activate the environment.
source activate i2sd

# Inform numpy how many cores to use. $NSLOTS is automatically set to the number given above.
export OMP_NUM_THREADS=$NSLOTS

./train_lattice_rl.sh